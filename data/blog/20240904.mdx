---
title: TeX å…¥é–€1
date: '2024-09-04'
tags: ['TeX']
summary: TeX å…¥é–€ã—ã¦ã¿ãŸè©±.
---

> [!NOTE]
> æœ¬è¨˜äº‹ã¯, [ã„ã‚‚ã‚ã‚‰ã„ã€‚](https://www.yamaimo.dev/)ã•ã‚“[^1]ã®ã€Œè‹¦ã—ã¿ã®TeXè¨€èªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã€ã®å†…å®¹ã‚’æ¼”ç¿’çš„ã«è¡Œã£ãŸã‚‚ã®ã§ã™. åŒæ›¸ãŒæ°—ã«ãªã‚‹æ–¹ã¯[BOOTH](https://booth.pm/ja/items/5799095)ã¾ãŸã¯[æŠ€è¡“æ›¸å…¸](https://techbookfest.org/product/8f7TevDUk3TfHMmQPhw61x?productVariantID=qeY5N5fALcsRrm18GD1LZ9)ã‚ˆã‚Šã”è³¼å…¥ä¸‹ã•ã„. 
> ã¾ãŸ, æœ¬è¨˜äº‹ã§ã¯æ•´æ•°, æ¡ä»¶åˆ†å²ã®ã¿ã«è§¦ã‚Œã¾ã™. ç¹°ã‚Šè¿”ã—ã‚„å±•é–‹åˆ¶å¾¡, ãƒªã‚¹ãƒˆæ§‹é€ , ã‚¿ãƒ—ãƒ«æ§‹é€ ç­‰ã«é–¢ã—ã¦ã¯, æ™‚é–“ãŒç¢ºä¿ã§ãæ¬¡ç¬¬ã€ŒTeX å…¥é–€2ã€ã¨ã—ã¦åŸ·ç­†ã—ã¾ã™.

## TeX

TeX ã¨ã¯, [Donald Ervin Knuth](http://www-cs-faculty.stanford.edu/~knuth/)ã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚ŒãŸçµ„ç‰ˆã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹. ã¾ãŸ, ç§ãŸã¡ãŒä¸€èˆ¬çš„ã«ä½¿ç”¨ã—ã¦ã„ã‚‹ LaTeX ã¯ TeX ä¸Šã«æ§‹ç¯‰ã•ã‚ŒãŸæ–‡æ›¸å‡¦ç†ã‚·ã‚¹ãƒ†ãƒ ã§ã‚ã‚‹. 
ãã®ãŸã‚, ä¸€èˆ¬ã«æ··åˆã—ã¦ä½¿ç”¨ã•ã‚ŒãŒã¡ãª TeX ã¨ LaTeX ã¯åŒºåˆ¥ã•ã‚Œã‚‹ã¹ãã§ã‚ã‚Š, æœ¬è¨˜äº‹ã¯ å‰è€…ã® TeX ã«ã¤ã„ã¦ã®è¨˜äº‹ã§ã‚ã‚‹.

### Hello, TeX!

ã¾ãšã¯, Hello, world! ãªã‚‰ã¬ Hello, TeX! ã‚’ã™ã‚‹. TeX ã«ãŠã‘ã‚‹æ¨™æº–å…¥å‡ºåŠ›ã‚’è¡Œã†ãŸã‚ã®ãƒã‚¯ãƒ­ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®šç¾©ã™ã‚‹.

```tex:stdio.tex
\def \ReadStdin(#1){
  {
    \endlinechar = -1
    \global\read 0 to #1
  }
}

\def \WriteStdout(#1){
  \immediate\write 0 {#1}
}
```

ä»¥é™ã§ã¯, ä¸Šè¨˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚“ã§ `\ReadStdin`, `\WriteStdout` ã‚’ä½¿ç”¨ã™ã‚‹.

Hello, TeX! ã‚’ã™ã‚‹ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹.

```tex:hello.tex
\input{stdio}

\ReadStdin(\Name)
\WriteStdout(Hello, \Name!)
\end
```

ç¶šã„ã¦, ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã™ã‚‹[^2]. ãªãŠ, æœ¬è¨˜äº‹ã§ã¯ LuaTeX ã‚’ä½¿ç”¨ã™ã‚‹.  

```txt
$ luatex --halt-on-error hello.tex 
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./hello.tex (./stdio.tex)
\Name =TeX
Hello, TeX!
)
warning  (pdf backend): no pages of output.
Transcript written on hello.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, æ¨™æº–å…¥åŠ›ã¨ã—ã¦ `\Name =` ãŒæ±‚ã‚ã‚‰ã‚Œ, `TeX` ã¨å…¥åŠ›ã™ã‚‹ã¨, æ¨™æº–å‡ºåŠ›ã§ `Hello, TeX!` ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹.

<details>
<summary>å˜ãªã‚‹ Hello, world! ã®å ´åˆ</summary>

```tex:hello.tex
\input{stdio}
\WriteStdout(Hello, world!)
\end
```

**å®Ÿè¡Œçµæœ**
```txt
$ luatex --halt-on-error hello.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./hello.tex (./stdio.tex)
Hello, world!
)
warning  (pdf backend): no pages of output.
Transcript written on hello.log.

```
</details>

### ãƒ—ãƒ­ã‚»ãƒƒã‚µæ§‹æˆ

TeX ã®å‡¦ç†ç³»ã¯ä»¥ä¸‹ã®4ã¤ã®ãƒ—ãƒ­ã‚»ãƒƒã‚µã‹ã‚‰æ§‹æˆã•ã‚Œã¦ã„ã‚‹.

- å…¥åŠ›ãƒ—ãƒ­ã‚»ãƒƒã‚µ
  - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ–‡å­—åˆ—ã‹ã‚‰ãƒˆãƒ¼ã‚¯ãƒ³åˆ—ã‚’ä½œã‚‹.
- å±•é–‹ãƒ—ãƒ­ã‚»ãƒƒã‚µ
  - ãƒˆãƒ¼ã‚¯ãƒ³åˆ—ã‚’å¿…è¦ã«å¿œã˜ã¦å±•é–‹ã—, å±•é–‹å¾Œã®ãƒˆãƒ¼ã‚¯ãƒ³åˆ—ã«ã™ã‚‹.
- å®Ÿè¡Œãƒ—ãƒ­ã‚»ãƒƒã‚µ
  - å±•é–‹å¾Œã®ãƒˆãƒ¼ã‚¯ãƒ³åˆ—ã‚’å®Ÿè¡Œã—, å‡¦ç†ç³»ã®å†…éƒ¨çŠ¶æ…‹ã‚’å¤‰æ›´ã—ãŸã‚Šçµ„ç‰ˆã®ãƒœãƒƒã‚¯ã‚¹ãƒªã‚¹ãƒˆã‚’ä½œã‚‹.
- å‡ºåŠ›ãƒ—ãƒ­ã‚»ãƒƒã‚µ
  - çµ„ç‰ˆã®ãƒœãƒƒã‚¯ã‚¹ãƒªã‚¹ãƒˆã‹ã‚‰ãƒšãƒ¼ã‚¸ã‚’å‡ºåŠ›ã™ã‚‹.

### ãƒˆãƒ¼ã‚¯ãƒ³ã®ç¨®é¡

- æ–‡å­—ãƒˆãƒ¼ã‚¯ãƒ³
  - `a`, `1`, `@` ç­‰.
- åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³
  - `\` ã‹ã‚‰å§‹ã¾ã‚‹æ–‡å­—åˆ— (`\let`, `\relax` ç­‰).

ãªãŠ, åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³ã¯, å±•é–‹ã•ã‚Œã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ã¨å±•é–‹ã•ã‚Œãªã„ãƒˆãƒ¼ã‚¯ãƒ³, `\let` ã§ä»£å…¥ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã«å¤§åˆ¥ã•ã‚Œã‚‹. 

**å±•é–‹ã•ã‚Œã‚‹ãƒˆãƒ¼ã‚¯ãƒ³**

|ãƒˆãƒ¼ã‚¯ãƒ³ã®ç¨®é¡|ä¾‹|
|---|---|
|ãƒã‚¯ãƒ­|`\def` ç­‰ã§å®šç¾©ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³|
|æ¡ä»¶åˆ†å²|`\if`, `\ifnum`, `\fi` ç­‰|
|å±•é–‹åˆ¶å¾¡|`\expandafter`, `\noexpand` ç­‰|
|çµ„è¾¼ã¿ã®å¤‰æ›|`\number`, `\string` ç­‰|

**å±•é–‹ã•ã‚Œãªã„ãƒˆãƒ¼ã‚¯ãƒ³**

|ãƒˆãƒ¼ã‚¯ãƒ³ã®ç¨®é¡|ä¾‹|
|---|---|
|æ•´æ•°å¤‰æ•°|`\newcount` ç­‰ã§å®šç¾©ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³|
|æ•´æ•°æ¼”ç®—|`\advance`, `\multiply` ç­‰|
|å®šç¾©|`\def`, `\let` ç­‰|
|ä½•ã‚‚ã—ãªã„å‘½ä»¤|`\relax`|
|çµ„ç‰ˆç”¨ã®å‘½ä»¤||

### æ•´æ•°

#### æ•´æ•°å¤‰æ•°

æ•´æ•°å¤‰æ•°ã¯ `\newcount` ã§å®šç¾©ã™ã‚‹[^3].

```tex:ex01.tex
\input{stdio}

\newcount \Mynum
\Mynum = 10
\WriteStdout(\Mynum)
\WriteStdout(\number \Mynum)
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex01.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex01.tex (./stdio.tex)
\Mynum
10
)
warning  (pdf backend): no pages of output.
Transcript written on ex01.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, `\Mynum` ã¯å±•é–‹ã•ã‚Œãªã„ãŒ, `\number \Mynum` ã¯å±•é–‹ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹.

#### æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«

æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã¯, ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§10é€²æ•°, `'` ã§8é€²æ•°, `"` ã§16é€²æ•°ã¨ãªã‚‹.

```tex:ex02.tex
\input{stdio}

\newcount \Mydec
\newcount \Myoct
\newcount \Myhex

\Mydec = 10
\Myoct = '12
\Myhex = "A

\WriteStdout(\Mydec is \number \Mydec.)
\WriteStdout(\Myoct is \number \Myoct.)
\WriteStdout(\Myhex is \number \Myhex.)
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex02.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex02.tex (./stdio.tex)
\Mydec is 10.
\Myoct is 10.
\Myhex is 10.
)
warning  (pdf backend): no pages of output.
Transcript written on ex02.log.

```

ã¾ãŸ, æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã®å‰å¾Œã«å±•é–‹ã•ã‚Œã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ç½®ãã¨, æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã¨å±•é–‹ã•ã‚Œã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ãŒ (å±•é–‹ã•ã‚Œã¦) ç¹‹ãŒã£ã¦ã—ã¾ã†.

```tex:ex03.tex
\input{stdio}

\newcount \MynumOne
\newcount \MynumTwo
\def \One{1}

\MynumOne = 12\One
\MynumTwo = \One12

\WriteStdout(\MynumOne is \number \MynumOne.)
\WriteStdout(\MynumTwo is \number \MynumTwo.)
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex03.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex03.tex (./stdio.tex)
\MynumOne is 121.
\MynumTwo is 112.
)
warning  (pdf backend): no pages of output.
Transcript written on ex03.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, ã¾ãš, `\One` ãŒå±•é–‹ã•ã‚Œ[^4], ãã®å¾Œ, æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã¨ç¹‹ãŒã£ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹.

ã“ã‚Œã‚’é˜²ãã«ã¯, ç©ºç™½ã®æ–‡å­—ãƒˆãƒ¼ã‚¯ãƒ³ã‚„ `\relax` ã‚’å…¥ã‚Œã‚‹.

```tex:ex04.tex
\input{stdio}

\newcount \MynumOne
\newcount \MynumTwo
\def \One{1}

\MynumOne = 12 \One
\MynumTwo = 12\relax\One

\WriteStdout(\MynumOne is \number \MynumOne.)
\WriteStdout(\MynumTwo is \number \MynumTwo.)
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex04.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex04.tex (./stdio.tex)
\MynumOne is 12.
\MynumTwo is 12.
[1{c:/texlive/2022/texmf-var/fonts/map/pdftex/updmap/pdftex.map}])<c:/texlive/2
022/texmf-dist/fonts/type1/public/amsfonts/cm/cmr10.pfb>
Output written on ex04.pdf (1 page, 8173 bytes).
Transcript written on ex04.log.

```

ãªãŠ, `\Mynum = \One\relax12` ã¨ã™ã‚‹ã¨, `\Mynum` ã«ã¯ `1` ãŒä»£å…¥ã•ã‚Œã‚‹. ã“ã‚Œã¯, åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³ã®å¾Œã‚ã®ç©ºç™½ã¯å…¨ã¦ç„¡è¦–ã•ã‚Œã‚‹ãŸã‚ã§ã‚ã‚‹.

#### æ•´æ•°æ¼”ç®—

æ•´æ•°æ¼”ç®—ã§ã¯, åŠ ç®—ã‚’ `\advance`[^5], ä¹—ç®—ã‚’ `\multiply`, é™¤ç®—ã‚’ `\divide` ã§è¡Œãˆã‚‹. 

```tex:ex05.tex
\input{stdio}

\newcount \MynumOne
\newcount \MynumTwo

\MynumOne = 10
\MynumTwo = -5

\advance \MynumOne by 5
\WriteStdout(\MynumOne is \number \MynumOne)

\advance \MynumOne by \MynumTwo
\WriteStdout(\MynumOne is \number \MynumOne)

\multiply \MynumOne by 2
\WriteStdout(\MynumOne is \number \MynumOne)

\divide \MynumOne by \MynumTwo
\WriteStdout(\MynumOne is \number \MynumOne)
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex05.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex05.tex (./stdio.tex)
\MynumOne is 15
\MynumOne is 10
\MynumOne is 20
\MynumOne is -4
)
warning  (pdf backend): no pages of output.
Transcript written on ex05.log.

```

#### å®šæ•°

å®šæ•°ã¯, `\chardef` ã§å®šç¾©ã™ã‚‹.

```tex:ex06.tex
\input{stdio}

\chardef \One = 1

\WriteStdout(\One is \number \One.)
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
luatex --halt-on-error ex06.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex06.tex (./stdio.tex)
\One is 1.
)
warning  (pdf backend): no pages of output.
Transcript written on ex06.log.

```

### æ¡ä»¶åˆ†å²

æ¡ä»¶åˆ†å²ã¯ `\if...\fi` ã¾ãŸã¯ `\if...\else...\fi` ã§è¨˜è¿°ã§ãã‚‹.

#### æ•´æ•°æ¯”è¼ƒ

æ•´æ•°ã®æ¯”è¼ƒã¯ `\ifnum` ã§è¡Œã†.

```tex:ex07.tex
\input{stdio}

\newcount \Mynum
\Mynum = 1

\ifnum \Mynum > 0 \WriteStdout(Plus)\else \WtiteStdout(Minus)\fi
\ifnum \Mynum = 1 \WriteStdout(Ok)\fi
\ifnum 2 < \Mynum \WriteStdout(Over)\fi
\end

```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex07.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex07.tex (./stdio.tex)
Plus
Ok
)
warning  (pdf backend): no pages of output.
Transcript written on ex07.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, `\Mynum` ã¯0ã‚ˆã‚Šå¤§ãã, 1ã¨ç­‰ã—ã„ãŸã‚ `Plus` ã¨ `Ok` ãŒå±•é–‹ã•ã‚Œå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹. ã¾ãŸ, `\Mynun` ã¯ 2ã‚ˆã‚Šå°ã•ã„ãŸã‚, `Over` ã¯å±•é–‹ã•ã‚Œãšå‡ºåŠ›ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚‚åˆ†ã‹ã‚‹.

#### ãƒˆãƒ¼ã‚¯ãƒ³æ¯”è¼ƒ

ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¯”è¼ƒã‚’ã™ã‚‹åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³ã«ã¯ `\if` ã‚„ `\ifx` ãŒã‚ã‚‹. `\if` ã¯å±•é–‹å¾Œã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ¯”è¼ƒã—, `\ifx` ã¯ãƒˆãƒ¼ã‚¯ãƒ³ã®å®šç¾©ã‚’æ¯”è¼ƒã™ã‚‹ (å±•é–‹ã—ãªã„).

```tex:ex08.tex
\input{stdio}

\def \MacroOne{a}
\def \MacroTwo{a}

\if a\MacroOne \WriteStdout(same)\else \WriteStdout(not same)\fi
\ifx a\MacroOne \WriteStdout(same)\else \WriteStdout(not same)\fi
\ifx \MacroOne\MacroTwo \WriteStdout(same)\else \WriteStdout(not same)\fi
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex08.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex08.tex (./stdio.tex)
same
not same
same
)
warning  (pdf backend): no pages of output.
Transcript written on ex08.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, `a\MacroOne` ã¯ `aa` ã«å±•é–‹ã•ã‚Œã‚‹ãŸã‚, `same` ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹. 
ã¾ãŸ, `a\MacroOne` ã¯ (å±•é–‹ãªã—ã§ã¯) å®šç¾©ãŒä¸€è‡´ã—ãªã„ãŸã‚ `not same` ãŒå‡ºåŠ›ã•ã‚Œ, `\MacroOne\MacroTwo` ã¯å®šç¾©ãŒä¸€è‡´ã™ã‚‹ãŸã‚ `same` ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹.

ã“ã‚Œã‚‰ã‚’å¿œç”¨ã™ã‚‹ã¨, ä»¥ä¸‹ã®ã‚ˆã†ãªæ–‡å­—åˆ—æ¯”è¼ƒãƒã‚¯ãƒ­ã‚’å®šç¾©ã§ãã‚‹.

```tex:ex09.tex
\input{stdio}

\def \IfSameString(#1,#2){
  \def \TmpMacroA{#1}
  \def \TmpMacroB{#2}
  \ifx \TmpMacroA\TmpMacroB
}

\IfSameString(abc,abc) \WriteStdout(same)\else \WriteStdout(not same)\fi
\IfSameString(abc,abd) \WriteStdout(same)\else \WriteStdout(not same)\fi
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex09.tex
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex09.tex (./stdio.tex)
same
not same
)
warning  (pdf backend): no pages of output.
Transcript written on ex09.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, æ­£å¸¸ã«æ–‡å­—åˆ—æ¯”è¼ƒãŒè¡Œãˆã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹.

#### æ–°ã—ã„æ¡ä»¶åˆ†å²ã®ä½œæˆ

æ–°ã—ã„æ¡ä»¶åˆ†å²ã®åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³ã¯, `\newif` ã§ä½œæˆã§ãã‚‹. `\newif \if<æ¡ä»¶å>` ã§æ–°ã—ã„æ¡ä»¶åˆ†å²ã‚’å®šç¾©ã™ã‚‹ã¨, `\if<æ¡ä»¶å>` ã¨ã„ã†æ¡ä»¶åˆ†å²ã®åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³ã«åŠ ãˆ, æ¡ä»¶ã‚’çœŸã«ã™ã‚‹ `\<æ¡ä»¶å>true` ã¨æ¡ä»¶ã‚’å½ã«ã™ã‚‹ `\<æ¡ä»¶å>false` ã¨ã„ã†åˆ¶å¾¡ãƒˆãƒ¼ã‚¯ãƒ³ãŒå®šç¾©ã•ã‚Œã‚‹.

```tex:ex10.tex
\input{stdio}

\newif \ifInRange

\def \CheckInRange(#1<=#2<=#3){
  \InRangetrue
  \ifnum #2 < #1 \InRangefalse \fi
  \ifnum #3 < #2 \InRangefalse \fi
}

\CheckInRange(0<=1<=2)
\ifInRange \WriteStdout(ok)\else \WriteStdout(out)\fi

\CheckInRange(-2<=1<=0)
\ifInRange \WriteStdout(ok)\else \WriteStdout(out)\fi
\end
```

å®Ÿè¡Œçµæœã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹.

```txt
$ luatex --halt-on-error ex10.tex 
This is LuaTeX, Version 1.15.0 (TeX Live 2022) 
 restricted system commands enabled.
(./ex10.tex (./stdio.tex)
ok
out
)
warning  (pdf backend): no pages of output.
Transcript written on ex10.log.

```

ä¸Šè¨˜ã®å®Ÿè¡Œçµæœã‚ˆã‚Š, æ­£å¸¸ã«æ¡ä»¶åˆ†å²ãŒè¡Œãˆã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹.

### ã¾ã¨ã‚

ä»Šå›ã¯, TeX ã®åŸºæœ¬ã«ã¤ã„ã¦å­¦ã³, æ•´æ•°æ¼”ç®—ã‚„æ¡ä»¶åˆ†å²ã‚’è¡Œã£ãŸ. æ¬¡å›[^6]ã¯, ã‚‚ã†å°‘ã—ç™ºå±•çš„ãªå†…å®¹ã«ã‚‚å–ã‚Šçµ„ã¿ãŸã„.

[^1]: ã€Œã„ã‚‚ã‚ã‚‰ã„ã€‚ã€ã¯ã‚µãƒ¼ã‚¯ãƒ«å.
[^2]: `--halt-on-error` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯, ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«å‡¦ç†ç³»ã®å®Ÿè¡Œã‚’çµ‚äº†ã•ã›ã‚‹ãŸã‚ã«æŒ‡å®šã—ã¦ã„ã‚‹.
[^3]: TeX ã§ `1+2` ã¨ã™ã‚‹ã¨ `1`, `+`, `2` ã¨ã„ã†ãƒˆãƒ¼ã‚¯ãƒ³åˆ—ã«åˆ†è§£ã•ã‚Œã‚‹.
[^4]: æ•´æ•°ãƒªãƒ†ãƒ©ãƒ«ã¨ã—ã¦æ‰±ãˆã‚‹ãƒˆãƒ¼ã‚¯ãƒ³ãŒã‚ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚.
[^5]: æ¸›ç®—ã¯è² æ•°ã‚’åŠ ç®—ã™ã‚‹ã“ã¨ã§å®Ÿç¾ã™ã‚‹.
[^6]: äºˆå®šã¯æœªå®šğŸ™ƒ