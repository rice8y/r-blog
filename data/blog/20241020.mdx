---
title: iOS のショートカットで簡易パスワード認証
date: '2024-10-20'
tags: ['iOS']
summary: iOS のショートカットで簡易パスワード認証を実装してみた話.
---

## 概要

iOS のショートカット機能を用いて, 任意のアプリにパスワード認証を適用するショートカットを作成したため忘備録としてここに記す.

### 機能

実現機能は以下の通り.

- 任意のアプリを開く際にパスワード認証を実装できる
- パスワード認証に3回連続で失敗すると, その日付と時刻が Log ファイルに記録されロック画面に遷移する

### 脆弱性

- ショートカットの中身を見れば簡単にパスワードを入手できる
- ショートカットアイコンで偽装したアプリのオリジナルを設定から直接開けばパスワード認証の意味はない

## 使用方法

1. まず, [https://www.icloud.com/shortcuts/53ba7d4006304a8b8191603ae7770aaf](https://www.icloud.com/shortcuts/53ba7d4006304a8b8191603ae7770aaf) にアクセスし,「ショートカットを入手する」を選択する.

![pw01](/static/images/others/pw01.png)

2. 次に, 「ショートカットを設定」を選択する.

![pw02](/static/images/others/pw02.png)

3. パスワードと適用アプリ, Log ファイルの保存先が問われるため, それぞれ設定する.

![pw03](/static/images/others/pw03.png)

![pw05](/static/images/others/pw05.png)

![pw06](/static/images/others/pw06.png)

4. 「ショートカットを追加」を選択する. ショートカットが追加されると以下のようになる.

![pw07](/static/images/others/pw07.png)

5. 追加したショートカットの右上の「・・・」を選択し, ショートカットを開く.

![pw08](/static/images/others/pw08.png)

6. 画面上部にある「∨」を選択し, 「ホーム画面に追加」を選択する.

![pw09](/static/images/others/pw09.png)

7. アイコンとして, パスワード認証を適用したアプリのアイコン画像を使用する. この際, 出来るだけ高解像度で背景透過しているものが好ましい.

![pw10](/static/images/others/pw10.png)

![pw11](/static/images/others/pw11.png)

![pw12](/static/images/others/pw12.png)

8. アイコン下部のテキストを選択し, パスワード認証を適用したアプリの名前に変更する.

![pw13](/static/images/others/pw13.png)

![pw14](/static/images/others/pw14.png)

以上の設定により, 以下のようになる.

![pw15](/static/images/others/pw15.png)

## デモ

- [認証成功 Ver.](/static/videos/demo_yes.mp4)
- [認証失敗 Ver.](/static/videos/demo_no.mp4)

3回連続認証失敗時, Log ファイルには以下のように記録される.

```none:log.txt
2024/10/20 17:52:56 JST: パスワード認証失敗.
```

## 使用上の注意点

- **セキュリティ的に非常に脆弱であること**
- 一度自分でパスワード認証に連続で失敗し, Log ファイルを確認すること (初回時のみファイルへのアクセス許可を問われる可能性があるため).
- ソフトウェアに対して疎い人にのみ有効であるため, 重要な情報源に対して過信して使用しないこと
