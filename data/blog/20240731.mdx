---
title: TeXshade ã§ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã‚’çµ„ç‰ˆã—ã¦ã¿ã‚‹
date: '2024-07-31'
tags: ['latex']
summary: LaTeX ã§ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã‚’çµ„ç‰ˆã—ã¦ã¿ãŸè©±.
---

## BioTeX

ç”Ÿç‰©å­¦åˆ†é‡ã«ãŠã„ã¦ LaTeX ãŒåˆ©ç”¨ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã‚ã¾ã‚Šãªã„ãŒ, å®Ÿéš›ã¯ãã†ã§ã‚‚ãªã„ã‚ˆã†ã§, ç”Ÿç‰©å­¦ã‚„ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹åˆ†é‡ã§ã‚ˆãä½¿ç”¨ã•ã‚Œã‚‹ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–, çµ„ç‰ˆ, è§£æã‚’æ”¯æ´ã™ã‚‹ç›®çš„ã§é–‹ç™ºã•ã‚Œã¦ã„ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ <a href="https://www.pharmazie.uni-kiel.de/en/pharmceitica/prof-dr-eric-beitz/biotex">BioTeX</a> ãŒå­˜åœ¨ã™ã‚‹. 

## TeXshade

ã•ã¦, å‰è¿°ã—ãŸ BioTeX ã«ãŠã„ã¦é–‹ç™ºã•ã‚ŒãŸ LaTeX ã§ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã‚¢ãƒ©ã‚¤ãƒ³ãƒ¡ãƒ³ãƒˆã‚’çµ„ç‰ˆã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã—ã¦, <a href="https://github.com/evolvedmicrobe/texshade?tab=readme-ov-file">TeXshade</a> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå­˜åœ¨ã™ã‚‹. 
ä½¿ç”¨ä¾‹ã‚’ä»¥ä¸‹ã«ç¤ºã™[^1]. 

```latex
\documentclass{ltjsarticle}
\usepackage{texshade}
\thispagestyle{empty}
\begin{document}
\begin{texshade}{sample.fasta}
\end{texshade}
\end{document}
```

ä¸Šè¨˜ã«ã‚ˆã‚Š, ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ã‚’å¾—ã‚‹. 

![aqp01](/static/images/latex/aqp01.png)

ã¾ãŸ, ã‚ªãƒ—ã‚·ãƒ§ãƒ³æŒ‡å®šã«ã‚ˆã‚Šä¸€è‡´ç‡ã‚’è€ƒæ…®ã—ãŸã‚·ã‚§ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå¯èƒ½ã¨ãªã‚‹. å…·ä½“çš„ã«ã¯, ä»¥ä¸‹ã®ã‚ˆã†ã«è¨˜è¿°ã™ã‚‹.

```latex
\documentclass{ltjsarticle}
\usepackage{texshade}
\thispagestyle{empty}
\begin{document}
\begin{texshade}{sample.fasta}
  \threshold[80]{50}
  \showconsensus[ColdHot]{bottom}
  \defconsensus{.}{lower}{upper}
  \showlegend
\end{texshade}
\end{document}
```

ä¸Šè¨˜ã«ã‚ˆã‚Š, ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ã‚’å¾—ã‚‹.

![aqp02](/static/images/latex/aqp02.png)

ã‚¢ã‚¯ã‚¢ãƒãƒªãƒ³ (Aquaporin, AQP) ã®ç•°ãªã‚‹ã‚¢ã‚¤ã‚½ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ•ã‚£ãƒ³ã‚¬ãƒ¼ãƒ—ãƒªãƒ³ãƒˆã¯, ä»¥ä¸‹ã®è¨˜è¿°ã§å¯èƒ½.

```latex
\documentclass{ltjsarticle}
\usepackage{texshade}
\thispagestyle{empty}
\begin{document}
\begin{texshade}{sample.fasta}
  \shadingmode[charge]{functional}
  \shadeallresidues
  \fingerprint{360}
  \gapchar{rule}
  \showlegend
\end{texshade}
\end{document}
```

ä¸Šè¨˜ã«ã‚ˆã‚Š, ä»¥ä¸‹ã®ã‚ˆã†ãªå‡ºåŠ›ã‚’å¾—ã‚‹.

![aqp03](/static/images/latex/aqp03.png)

ã“ã“ã¾ã§, ã„ãã¤ã‹ã®æ©Ÿèƒ½ã‚’è©¦ã—ã¦ã¿ãŸ. è©³ã—ã„ä½¿ç”¨æ³•ã«ã¤ã„ã¦ã¯, <a href="https://github.com/evolvedmicrobe/texshade/blob/master/texshade.pdf">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’å‚ç…§ã•ã‚ŒãŸã„.

ãªãŠ, å…¥åŠ›ãƒ•ã‚¡ã‚¤ãƒ«ã«ãŠã‘ã‚‹æ–‡å­—æ•°ãŒå¤šããªã‚‹ã¨ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—, ååˆ†ãªé‡ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†ã“ã¨ãŒå‡ºæ¥ãªã‹ã£ãŸ.

```txt
TeX capacity exceeded, sorry [input stack size=10000].
&lt;to be read again&gt;
\res11
```

ã“ã®ã‚¨ãƒ©ãƒ¼ã¯, <a href="https://github.com/evolvedmicrobe/texshade/blob/master/texshade.pdf">å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã«ãŠã„ã¦ã‚‚è¨€åŠã•ã‚Œã¦ãŠã‚Š, ä»¥ä¸‹ã®ã‚ˆã†ã«å¯¾å¿œã—ãŸ.

`kpsewhich texmf.cnf` ã§ `texmf.cnf` ã®å ´æ‰€ã‚’æ¢ã—, `texmf.cnf` ã«

```txt
stack_size = 50000
``` 

ã‚’è¨˜è¿°. ãã®å¾Œ, `fmtutil-sys --all` ã‚’å®Ÿè¡Œã—, ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°. ã—ã‹ã—, ä»Šåº¦ã¯

```txt
TeX capacity exceeded, sorry [input stack size=50000].
&lt;to be read again&gt;
\res11
```

ãŒè¡¨ç¤ºã•ã‚Œä¸Šæ‰‹ãã„ã‹ãš...

`stack_size` ã‚’50000ã‚ˆã‚Šå¤§ããã—ãŸã‚Š, `main_memory` ã‚’å¤‰æ›´ã—ãŸã‚Šã—ãŸãŒã‚¨ãƒ©ãƒ¼ã¯è§£æ¶ˆã•ã‚Œãªã‹ã£ãŸ. è¬ğŸ™ƒ

[^1]: DVI ãƒ•ã‚¡ã‚¤ãƒ«ã‚’çµŒç”±ã™ã‚‹ LaTeX ã‚¨ãƒ³ã‚¸ãƒ³ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯, TeXshade ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’èª­ã¿è¾¼ã‚€éš›ã«, ãƒ‰ãƒ©ã‚¤ãƒã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ DVI ãƒ‰ãƒ©ã‚¤ãƒã‚’æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹.